/*
 *  jQuery FadeThis - v1.0.0
 *  A lightweight, simple, yet powerful jQuery plugin for appear-as-you-scroll features.
 *  https://github.com/zolweb/jquery-fadethis/
 *
 *  Made by Zol
 *  Under MIT License
 */
(function(e,t,n,r){var i=null,s=[],o=e(t),u=function(){};e.expr[":"].hasClassStartingWith=function(e,t,n){var r=new RegExp("\\b"+n[3]);return r.test(e.className)};u.prototype={globals:{pluginName:"fadeThis",bufferTime:300},defaults:{baseName:"slide-",speed:500,easing:"swing",offset:0,reverse:true,distance:50,scrolledIn:null,scrolledOut:null,delay:0},init:function(e,t){this.addElements(e,t);this._setEvent();this._checkVisibleElements()},addElements:function(r,i){var s=r===n.body?t:r,o=s===t?e("body"):e(s),u=this,a=i&&i.baseName?i.baseName:this.defaults.baseName;if(!o.is(":hasClassStartingWith('"+a+"')")){o.find(":hasClassStartingWith('"+a+"')").each(function(){u._addElement(e(this),i)})}else{u._addElement(o,i)}return o},_addElement:function(t,n){var r=t.data("plugin-options"),i=e.extend({},this.defaults,n,r),o={element:t,options:i,invp:false};s.push(o);this._prepareElement(o);return t},_prepareElement:function(e){var t={opacity:0,visibility:"visible",position:"relative"},n=null;if(e.element.hasClass(e.options.baseName+"right")){n="left"}else if(e.element.hasClass(e.options.baseName+"left")){n="right"}else if(e.element.hasClass(e.options.baseName+"top")){n="bottom"}else if(e.element.hasClass(e.options.baseName+"bottom")){n="top"}else{return false}t[n]=e.options.distance;e.element.css(t)},_setEvent:function(){var e=this;o.on("scroll",function(t){if(!i){i=setTimeout(function(){e._checkVisibleElements(t);i=null},e.globals.bufferTime)}})},_checkVisibleElements:function(t){var n=this;e.each(s,function(e,r){if(n._isVisible(r)){if(!r.invp){r.invp=true;n._triggerFading(r);if(r.options.scrolledIn){r.options.scrolledIn.call(r.element,t)}r.element.trigger("fadethisscrolledin",t)}}else if(r.invp){r.invp=false;if(r.options.reverse){n._triggerFading(r,false)}if(r.options.scrolledOut){r.options.scrolledOut.call(r.element,t)}r.element.trigger("fadethisscrolledout",t)}})},_isVisible:function(e){var t=o.scrollTop()+e.options.offset,n=t+o.height()-2*e.options.offset,r=e.element.offset().top,i=r+e.element.height();return i>=t&&r<=n&&i<=n&&r>=t},_triggerFading:function(e,t){t=typeof t!=="undefined"?t:true;var n={opacity:1},r={opacity:0},i=null;if(e.element.hasClass(e.options.baseName+"right")){i="left"}else if(e.element.hasClass(e.options.baseName+"left")){i="right"}else if(e.element.hasClass(e.options.baseName+"top")){i="bottom"}else if(e.element.hasClass(e.options.baseName+"bottom")){i="top"}else{return false}n[i]=0;r[i]=e.options.distance;if(t){e.element.stop(true).delay(e.options.delay).animate(n,e.options.speed,e.options.easing)}else{e.element.stop(true).animate(r,e.options.speed,e.options.easing)}}};u.defaults=u.prototype.defaults;u.globals=u.prototype.globals;t.Plugin=new u;e.fn[u.globals.pluginName]=function(n){this.each(function(){if(!e.data(t,"plugin_"+u.globals.pluginName)){e.data(t,"plugin_"+u.globals.pluginName,"set");e.data(this,"plugin_"+u.globals.pluginName,t.Plugin.init(this,n))}else if(!e.data(this,"plugin_"+u.globals.pluginName)){e.data(this,"plugin_"+u.globals.pluginName,t.Plugin.addElements(this,n))}});return this}})(jQuery,window,document)